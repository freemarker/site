<#ftl strip_text=true />

<#assign pageTitle = "Download Freemarker" />

<@page.page title=pageTitle secondaryTab="download">
  <@ui.pageTitle>${pageTitle}</@ui.pageTitle>

  <@ui.note class="note-warning" title="Note about backward compatibility">Before 2.3.0, releases with different second version numbers (like 2.2.x and 2.3.x) aren’t fully compatible. The 2.3.x series is quite conservative about backward compatibility, so you can upgrade FreeMarker without much risk within it.</@ui.note>
  <p>All downloads include the binary (<code>freemarker.jar</code>), the source code, and the full documentation (unless said otherwise).</p>
  <p><a class="icon-after icon-read-more" href="docs/app_versions.html">View all change logs</a></p>

  <section>
    <@ui.sectionTitle>Latest release</@ui.sectionTitle>
    <ul class="latest-releases">
      <#list downloads.versions as version>
        <#if version.latest??>
          <li>${version.version}
            <ul>
              <li>${version.description}</li>
              <#if version.url?? && version.urlText??>
                <li><a class="icon-before icon-download" href="${version.url}">${version.urlText}</a></li>
              </#if>
            </ul>
          </li>
        </#if>
      </#list>
    </ul>
  </section>

  <section>
    <@ui.sectionTitle>Previous releases</@ui.sectionTitle>

    <p>Please visit the <a href="http://sourceforge.net/projects/freemarker/files/">SourceForge download page</a> to download past releases that are not featured here.</p>

    <ul class="latest-releases">
      <#list downloads.versions as version>
        <#if !version.latest??>
          <li>${version.version}
            <ul>
              <li>${version.description}</li>
              <#if version.url?? && version.urlText??>
                <li><a class="icon-before icon-download" href="${version.url}">${version.urlText}</a></li>
              </#if>
            </ul>
          </li>
        </#if>
      </#list>
    </ul>
  </section>

  <section>
    <@ui.sectionTitle>Dependency management</@ui.sectionTitle>
    <@ui.note class="note-warning" title="Note about dependency management">Be sure nothing pulls in an old dependency with groupId “freemarker” (without the “org.”), because then you will end up with two freemarker.jar-s and unpredictable behavior!</@ui.note>

    <#-- maven example -->
    <@ui.sectionSubtitle>Maven example</@ui.sectionSubtitle>

    <#assign mavenExample>
<#-- --><dependency>
<#-- -->  <groupId>org.freemarker</groupId>
<#-- -->  <artifactId>freemarker</artifactId>
<#-- -->  <version>2.3.20</version>
<#-- --></dependency>
    </#assign>
    <pre>${mavenExample?xhtml}</pre>

    <#-- google app engine example -->
    <@ui.sectionSubtitle>Google app engine example</@ui.sectionSubtitle>
    <#-- @todo: externalize url -->
    <p>If you need to use FreeMarker on Google App Engine, <a href="http://sourceforge.net/projects/freemarker/files/freemarker/2.3.20/freemarker-gae-2.3.20.jar/download">download the GAE-compatible binary</a>, too. (This is only the binary.)</p>

    <#assign gaeExample>
<#-- --><dependency>
<#-- -->  <groupId>org.freemarker</groupId>
<#-- -->  <artifactId>freemarker</artifactId>
<#-- -->  <version>2.3.20</version>
<#-- --></dependency>
    </#assign>
    <pre>${gaeExample?xhtml}</pre>

    <@ui.sectionh3>Excluding old FreeMarker artifact</@ui.sectionh3>
    <p>Until about 2007 the Maven group name was “freemarker” instead of “org.freemarker”, and as the XML comment above says, this can cause problems, as Maven will see them as two independent artifacts with no version conflict. If you run into this issue, find the dependency that depends on the old FreeMarker, and add this to your application’s POM where you declare the problematic dependency:</p>

    <#-- whitespace ftw -->
    <#assign exclusionExample>
<#-- --><dependency>
<#-- -->  <groupId>…</groupId>
<#-- -->  <artifactId>…</artifactId>
<#-- -->  <version>…</version>
<#-- -->  <exclusions>
<#-- -->      <groupId>freemarker<!-- Do NOT use this org-less group! --></groupId>
<#-- -->      <artifactId>freemarker</artifactId>
<#-- -->    </exclusion>
<#-- -->  </exclusions>
<#-- --></dependency>
    </#assign>

    <pre>${exclusionExample?xhtml}</pre>
  </section>


</@page.page>